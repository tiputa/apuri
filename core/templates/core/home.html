{% extends 'core/base.html' %}

{% block content %}

<!-- 新規投稿ボタン -->
<div style="width: 90%; max-width: 800px; margin: 0 auto 20px; text-align: right;">
    <a href="{% url 'create_post' %}" style="background: #0095f6; color: white; padding: 10px 15px; 
              border-radius: 8px; text-decoration: none; font-size: 14px;">
        ＋ 新規投稿
    </a>
</div>

<h2>ホーム</h2>

<!-- 投稿一覧 -->
{% for post in posts %}
<div style="border: 1px solid #ddd; padding: 15px; margin-bottom: 15px; border-radius: 10px; position: relative;">

    <!-- 右上サムネイル画像 -->
    {% if post.image %}
    <img src="{{ post.image.url }}" alt="" style="
            width: 120px;
            height: 120px;
            object-fit: cover;
            border-radius: 8px;
            position: absolute;
            top: 15px;
            right: 15px;
         ">
    {% endif %}

    <!-- ユーザー名 -->
    <p><strong>{{ post.user.username }}</strong></p>

    <!-- テキスト -->
    <p style="max-width: 70%;">{{ post.text }}</p>

    <!-- 投稿日時 -->
    <p style="color: gray; font-size: 12px;">{{ post.created_at|date:'Y/m/d H:i' }}</p>

</div>
{% empty %}
<p>まだ投稿がありません</p>
{% endfor %}

{% endblock %}