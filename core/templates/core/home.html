{% extends 'core/base.html' %}

{% block content %}

<style>
/* =========================
   ğŸ“± ã‚¹ãƒãƒ›æœ€é©åŒ–ï¼ˆå®Œæˆç‰ˆï¼‰
========================= */
@media (max-width: 600px) {

    /* è¦‹å‡ºã— */
    h2 {
        font-size: 24px !important;
    }

    /* æ–°è¦æŠ•ç¨¿ãƒœã‚¿ãƒ³ */
    .new-post-btn {
        width: 100%;
        display: block;
        text-align: center;
        font-size: 17px;
        padding: 14px;
        border-radius: 10px;
    }

    /* æŠ•ç¨¿ã‚«ãƒ¼ãƒ‰ */
    .post-card {
        padding: 18px !important;
        border-radius: 14px;
    }

    /* ãƒ¦ãƒ¼ã‚¶ãƒ¼å */
    .post-username {
        font-size: 18px;
    }

    /* æœ¬æ–‡ */
    .post-text {
        max-width: 100% !important;
        font-size: 17px;
        line-height: 1.6;
    }

    /* ç”»åƒã¯ã‚«ãƒ¼ãƒ‰å†…ã§å¤§ããè¡¨ç¤º */
    .post-image {
        position: static !important;
        width: 100% !important;
        height: auto !important;
        margin-top: 14px;
        border-radius: 12px;
    }

    /* æ™‚åˆ» */
    .post-time {
        font-size: 13px;
    }
}
</style>

<!-- æ–°è¦æŠ•ç¨¿ãƒœã‚¿ãƒ³ -->
<div style="
    width: 90%;
    max-width: 800px;
    margin: 0 auto 20px;
    text-align: right;
">
    <a href="{% url 'create_post' %}" class="new-post-btn" style="
        background:#0095f6;
        color:white;
        padding:10px 15px;
        border-radius:8px;
        text-decoration:none;
        font-size:14px;
        font-weight:bold;
    ">
        ï¼‹ æ–°è¦æŠ•ç¨¿
    </a>
</div>

<h2 style="width:90%; max-width:800px; margin:0 auto 15px;">
    ğŸ  ãƒ›ãƒ¼ãƒ 
</h2>

<!-- æŠ•ç¨¿ä¸€è¦§ -->
<div style="width:90%; max-width:800px; margin:0 auto;">
    {% for post in posts %}
    <div class="post-card" style="
        border:1px solid #ddd;
        padding:15px;
        margin-bottom:16px;
        border-radius:12px;
        position:relative;
        background:#fff;
        box-shadow:0 2px 8px rgba(0,0,0,0.05);
    ">

        <!-- ãƒ¦ãƒ¼ã‚¶ãƒ¼å -->
        <p class="post-username" style="font-weight:bold; margin-bottom:6px;">
            {{ post.user.username }}
        </p>

        <!-- æœ¬æ–‡ -->
        <p class="post-text" style="max-width:70%; margin-bottom:8px;">
            {{ post.text }}
        </p>

        <!-- ç”»åƒ -->
        {% if post.image %}
        <img src="{{ post.image.url }}" alt="" class="post-image" style="
            width:120px;
            height:120px;
            object-fit:cover;
            border-radius:10px;
            position:absolute;
            top:15px;
            right:15px;
        ">
        {% endif %}

        <!-- æ™‚åˆ» -->
        <p class="post-time" style="color:gray; font-size:12px;">
            {{ post.created_at|timesince }}å‰
        </p>

    </div>
    {% empty %}
    <p style="text-align:center; color:gray;">
        ã¾ã æŠ•ç¨¿ãŒã‚ã‚Šã¾ã›ã‚“
    </p>
    {% endfor %}
</div>

{% endblock %}