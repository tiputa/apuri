{% extends 'core/base.html' %}

{% block content %}
<h1 style="margin-bottom:20px;">å‚åŠ ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¸€è¦§</h1>

<ul style="list-style:none; padding:0;">

{% for req in requests %}
    <li style="
        padding:16px;
        margin-bottom:14px;
        border:1px solid #ddd;
        border-radius:12px;
        background:#fff;
        display:flex;
        justify-content:space-between;
        align-items:center;
    ">

        <!-- å·¦å´ï¼šæƒ…å ± -->
        <div>
            <div style="font-size:16px; font-weight:bold;">
                ğŸ‘¤ {{ req.user.username }}
            </div>
            <div style="font-size:14px; color:#555; margin-top:4px;">
                ğŸ  ãƒ«ãƒ¼ãƒ ï¼š{{ req.room.name }}
            </div>
            <div style="font-size:12px; color:gray; margin-top:4px;">
                ğŸ“… {{ req.created_at|date:"Y/m/d H:i" }}
            </div>
        </div>

        <!-- å³å´ï¼šæ‰¿èªãƒœã‚¿ãƒ³ -->
        <div>
            <a href="{% url 'approve_request' req.id %}"
               style="
               padding:8px 14px;
               background:#4CAF50;
               color:white;
               text-decoration:none;
               border-radius:20px;
               font-weight:bold;
               ">
                âœ” æ‰¿èª
            </a>
        </div>

    </li>

{% empty %}
    <li style="
        color:gray;
        padding:20px;
        text-align:center;
    ">
        ç¾åœ¨ã€å‚åŠ ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ã‚ã‚Šã¾ã›ã‚“
    </li>
{% endfor %}

</ul>

<div style="margin-top:20px;">
    <a href="{% url 'room_list' %}" style="text-decoration:none;">
        â† ãƒ«ãƒ¼ãƒ ä¸€è¦§ã¸æˆ»ã‚‹
    </a>
</div>

{% endblock %}