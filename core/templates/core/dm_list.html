{% extends 'core/base.html' %}
{% load static %}
{% block content %}

<div style="
    max-width:600px;
    margin:40px auto;
">

    <h2 style="
        text-align:center;
        margin-bottom:25px;
        font-size:26px;
    ">
        ğŸ’¬ DMãƒªã‚¹ãƒˆ
    </h2>

    <ul style="
        list-style:none;
        padding:0;
        display:flex;
        flex-direction:column;
        gap:15px;
    ">
        {% for user in users %}
        <li style="
            background:#fff;
            border-radius:14px;
            padding:16px 20px;
            display:flex;
            align-items:center;
            justify-content:space-between;
            box-shadow:0 4px 12px rgba(0,0,0,0.08);
        ">

            <!-- å·¦å´ï¼ˆã‚¢ã‚¤ã‚³ãƒ³ï¼‹åå‰ï¼‰ -->
            <div style="
                display:flex;
                align-items:center;
                gap:12px;
                font-size:18px;
                font-weight:bold;
            ">
                <!-- ã‚¢ã‚¤ã‚³ãƒ³ -->
                <img src="
                    {% if user.profile.profile_image %}
                        {{ user.profile.profile_image.url }}
                    {% else %}
                        {% static 'core/default_icon.png' %}
                    {% endif %}
                " style="
                    width:42px;
                    height:42px;
                    border-radius:50%;
                    object-fit:cover;
                ">

                {{ user.username }}
            </div>

            <!-- ãƒãƒ£ãƒƒãƒˆãƒœã‚¿ãƒ³ -->
            <a href="{% url 'dm_chat' user.id %}" style="
                background:#4CAF50;
                color:white;
                padding:8px 14px;
                border-radius:20px;
                text-decoration:none;
                font-size:14px;
                font-weight:bold;
            ">
                ğŸ’¬ ãƒãƒ£ãƒƒãƒˆ
            </a>
        </li>
        {% empty %}
        <li style="
            text-align:center;
            color:gray;
            padding:30px;
            font-size:16px;
        ">
            ã¾ã DMã¯ã‚ã‚Šã¾ã›ã‚“
        </li>
        {% endfor %}
    </ul>

    <div style="margin-top:25px; text-align:center;">
        <a href="{% url 'home' %}" style="
            text-decoration:none;
            color:#555;
            font-size:14px;
        ">
            â† ãƒ›ãƒ¼ãƒ ã¸æˆ»ã‚‹
        </a>
    </div>

</div>
{% endblock %}